void bubblesort(int arr[], int n) {
    // Внешний цикл: проходит через массив максимум (n-1) раз
    // На каждой итерации i один элемент "всплывает" на своё место
    for (int i = 0; i < n - 1; i++) {
        // Флаг, отслеживающий наличие перестановок на текущем проходе
        // 0 - перестановок не было, 1 - были перестановки
        int swapped = 0;

        // Внутренний цикл: сравнивает пары соседних элементов
        // Диапазон сокращается на (i + 1), так как:
        // - После i-го прохода i последних элементов уже отсортированы
        // - n - i - 1: исключает из сравнения уже отсортированные элементы
        for (int j = 0; j < n - i - 1; j++) {
            // Если текущий элемент больше следующего, меняем их местами
            if (arr[j] > arr[j + 1]) {
                // Сохраняем текущий элемент во временной переменной
                int temp = arr[j];
                // Заменяем текущий элемент на меньший (следующий)
                arr[j] = arr[j + 1];
                // Возвращаем сохранённый элемент на позицию следующего
                arr[j + 1] = temp;
                // Отмечаем, что обмен произошёл
                swapped = 1;
            }
        }

        // Если за весь проход не было перестановок (swapped == 0),
        // массив уже отсортирован - прерываем выполнение
        if (!swapped) break;
    }
}